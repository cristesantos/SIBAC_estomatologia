package regras

import com.exemplo.estomatologia.model.Hipotese;
import com.exemplo.estomatologia.model.Evidencia;
import com.exemplo.estomatologia.model.Diagnostico;
import com.exemplo.estomatologia.model.Sintomas;

rule "Criar hipótese - Abscesso Pulpar"
when
    $s : Sintomas()
then
    insert(new Hipotese("Abscesso Pulpar"));
end

rule "Abscesso Pulpar - dor alta"
when
    $h : Hipotese(nome == "Abscesso Pulpar")
    Evidencia(tipo == "dor", valor == "alta")
then
    $h.atualizarFC(0.7);
end

rule "Abscesso Pulpar - sangramento"
when
    $h : Hipotese(nome == "Abscesso Pulpar")
    Evidencia(tipo == "sangramento", valor == true)
then
    $h.atualizarFC(0.5);
end

rule "Gerar Diagnóstico - Abscesso Pulpar"
when
    $h : Hipotese(nome == "Abscesso Pulpar")
then
    insert(new Diagnostico($h.getNome(), $h.getFCCombinado()));
end